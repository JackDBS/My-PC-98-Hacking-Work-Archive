(mes
 (meta (engine 'AI5) (charset "english") (dictbase 128))
 (dict)
 (palette 3 0)
 (set-arr~ @ 13 0 0 79 399)
 (color 7)
 (clear)
 (set-arr~ @ 7 0)
 (set-arr~ @ 6 0)
 (set-arr~ @ 9 (&& (~ @ 9) 65534))
 (set-arr~ @ 7 3)
 (set-arr~ @ 6 2)
 (image "name.gp4")
 (palette 3)
 (set-arr~ @ 7 0)
 (set-var A (+ (~ @ 0) 1100))
 (set-var B 33024)
 (set-var P 5)
 (set-arr~ A 0 59522 58242 42114 52354 46978 44930 0 0 0)
 (set-arr~ B 0
   41090
   41602
   42114
   42626
   43138
   0
   43394
   43906
   44418
   44930
   45442
   0
   45954
   46466
   46978
   47490
   48002
   0
   48514
   49026
   49794
   50306
   50818
   0
   51330
   51586
   51842
   52098
   52354
   52610
   53378
   54146
   54914
   55682
   0
   56450
   56706
   56962
   57218
   57474
   0
   57986
   0
   58498
   0
   59010
   0
   59266
   59522
   59778
   60034
   60290
   0
   60802
   61826
   0
   0
   0
   43650
   44162
   44674
   45186
   45698
   0
   46210
   46722
   47234
   47746
   48258
   0
   48770
   49282
   50050
   50562
   51074
   0
   52866
   53634
   54402
   55170
   55938
   0
   53122
   53890
   54658
   55426
   56194
   40834
   41346
   41858
   42370
   42882
   0
   49538
   57730
   58242
   58754
   0
   0
   0
   0
   0
   0
   0
   0
   0
   0
   0
   0
   0
   0
   0
   0
   0
   0
   0
   16771
   17283
   17795
   18307
   18819
   0
   19075
   19587
   20099
   20611
   21123
   0
   21635
   22147
   22659
   23171
   23683
   0
   24195
   24707
   25475
   25987
   26499
   0
   27011
   27267
   27523
   27779
   28035
   28291
   29059
   29827
   30595
   31363
   0
   32131
   32387
   32899
   33155
   33411
   0
   33923
   0
   34435
   0
   34947
   0
   35203
   35459
   35715
   35971
   36227
   0
   36739
   37763
   0
   0
   0
   19331
   19843
   20355
   20867
   21379
   0
   21891
   22403
   22915
   23427
   23939
   0
   24451
   24963
   25731
   26243
   26755
   0
   28547
   29315
   30083
   30851
   31619
   0
   28803
   29571
   30339
   31107
   31875
   16515
   17027
   17539
   18051
   18563
   0
   25219
   33667
   34179
   34691
   0
   0
   23425
   17793
   18561
   18817
   0
   0
   20354
   20610
   20866
   21122
   21378
   0
   21634
   21890
   22146
   22402
   22658
   0
   0
   0
   0
   0
   0
   0
   0
   0
   0
   0
   0
   0
   0
   0
   0
   0
   0
   0
   0
   0
   0
   0
   0
   0
   0
   0
   0
   0)
 (define-proc 31 (<>))
 (define-proc 32
   (<>
    (mouse 2)
    (cond
     ((&&
       (> (~ @ 10) (+ V 31))
       (< (~ @ 10) (+ V 496))
       (> (~ @ 11) (+ W 63))
       (< (~ @ 11) (+ W 208)))
      (<>
       (set-var X (/ (- (~ @ 10) V 32) 16))
       (set-var Y (/ (- (~ @ 11) W 64) 16))
       (set-var I (~ B (+ X (* Y 29))))
       (if (&& (> I 0) (< P 6))
         (<>
          (set-arr~ A P I)
          (set-var S (+ (/ V 8) 18 (* P 2)))
          (set-var T (+ W 208))
          (mouse 1)
          (blit (+ (/ V 8) 35) (+ W 208) (+ (/ V 8) 36) (+ W 223) 0 S T 0)
          (blit-mask
           (+ (* X 2) 4)
           (+ 260 (* N 16))
           (+ (* X 2) 5)
           (+ (* N 16) 275)
           2
           S
           T
           0)
          (set-var P (+ P 1))
          (blit 30 208 33 223 2 (+ (/ V 8) 18 (* P 2)) (+ W 208) 0)
          (mouse 0)))))
     ((&&
       (> (~ @ 11) (+ W 207))
       (< (~ @ 11) (+ W 224))
       (> (~ @ 10) (+ V 327))
       (< (~ @ 10) (+ V 376)))
      (<>
       (if (> P 0)
         (<>
          (set-var P (- P 1))
          (set-arr~ A P 0)
          (mouse 1)
          (blit 30 208 33 223 2 (+ (/ V 8) 18 (* P 2)) (+ W 208) 0)
          (mouse 0)
          (set-reg: 3 0)))))
     ((&&
       (> (~ @ 11) (+ W 207))
       (< (~ @ 11) (+ W 224))
       (> (~ @ 10) (+ V 431))
       (< (~ @ 10) (+ V 480)))
      (<> (if (> P 0) (<> (mouse 1) (set-arr~ A P 0) (set-arr~ @ 27 0))))))))
 (define-proc 33 (<>))
 (define-proc 34 (<>))
 (define-proc 35 (<>))
 (define-proc 36 (<>))
 (define-proc 37 (<>))
 (define-proc 38
   (<>
    (set-var M 65535)
    (set-var N 65535)
    (set-reg: 0 0)
    (set-reg: 1 0)
    (set-reg: 2 0)
    (set-reg: 3 0)
    (set-var V 56)
    (set-var W 32)
    (blit 0 0 65 255 2 (/ V 8) W 0)
    (mouse 0)
    (set-arr~ @ 6 0)
    (set-arr~ @ 7 0)
    (set-var P 6)))
 (define-proc 30
   (<>
    (mouse 1)
    (if (&& (== (: 2) 1) (< M 100) (< N 100))
      (<>
       (blit
        (+ (* M 2) 3)
        (+ 63 (* N 16))
        (+ (* M 2) 6)
        (+ (* N 16) 81)
        2
        (+ (/ V 8) (* M 2) 3)
        (+ W 63 (* N 16))
        0)
       (set-reg: 2 0)))
    (if (&& (< X 100) (< Y 100))
      (<>
       (if (> (~ B (+ X (* Y 29))) 0)
         (<>
          (blit-mask 70 3 73 21 2 (+ (/ V 8) 3 (* X 2)) (+ W 63 (* Y 16)) 0)
          (set-reg: 2 1)))
       (set-var M X)
       (set-var N Y)))
    (mouse 0)))
 (define-proc 39
   (<>
    (mouse 2)
    (set-var X 65535)
    (set-var Y 65535)
    (if (&&
         (> (~ @ 10) (+ V 31))
         (< (~ @ 10) (+ V 496))
         (> (~ @ 11) (+ W 63))
         (< (~ @ 11) (+ W 208)))
      (<>
       (set-var X (/ (- (~ @ 10) V 32) 16))
       (set-var Y (/ (- (~ @ 11) W 64) 16))
       (if-else (&& (== X M) (== Y N)) (<> (break)) (<> (proc 30)))))
    (if-else (&&
              (> (~ @ 11) (+ W 207))
              (< (~ @ 11) (+ W 224))
              (> (~ @ 10) (+ V 327))
              (< (~ @ 10) (+ V 376)))
      (<>
       (if (== (: 0) 0)
         (<>
          (mouse 1)
          (blit 71 40 76 55 2 (+ (/ V 8) 42) (+ W 208) 0)
          (mouse 0)
          (set-reg: 0 1))))
      (<>
       (if (== (: 0) 1)
         (<>
          (mouse 1)
          (blit 71 24 76 39 2 (+ (/ V 8) 42) (+ W 208) 0)
          (mouse 0)
          (set-reg: 0 0)))))
    (if-else (&&
              (> (~ @ 11) (+ W 207))
              (< (~ @ 11) (+ W 224))
              (> (~ @ 10) (+ V 431))
              (< (~ @ 10) (+ V 480)))
      (<>
       (if (== (: 1) 0)
         (<>
          (mouse 1)
          (blit 71 72 76 87 2 (+ (/ V 8) 54) (+ W 208) 0)
          (mouse 0)
          (set-reg: 1 1))))
      (<>
       (if (== (: 1) 1)
         (<>
          (mouse 1)
          (blit 71 56 76 71 2 (+ (/ V 8) 54) (+ W 208) 0)
          (mouse 0)
          (set-reg: 1 0)))))))
 (menu-show (<> (text "あ")))
 (palette 3 0))